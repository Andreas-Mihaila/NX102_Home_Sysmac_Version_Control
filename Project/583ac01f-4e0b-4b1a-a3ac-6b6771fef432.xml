{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"LD","Ix":1,"Var":"P_First_Run","X":1},{"__type":"IST","EID":"27cedb96-facb-4c69-97a1-ce9a7a3ea45a","H":436.00000000000006,"Ix":2,"TXT":"\/\/ Configuring Modbus TCP Reading Command from Etherway \/ Factory IO Coils\/Holding Registers\u000d\u000a\u000d\u000a\/\/ Reading Discrete Inputs Factory IO\u000d\u000a\u000d\u000aModbus_TCP_Cmd_UnitIdentifier := USINT#1;\u0009\u0009\u0009\u000d\u000aModbus_TCP_Cmd_Command_Data[0] := BYTE#16#02;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Function Code Read Discrete Inputs\u000d\u000aModbus_TCP_Cmd_Command_Data[1] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Start Addresses (H Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data[2] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Start Addresses (L Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data[3] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Reading Coils (H Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data[4] := BYTE#16#10;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Reading Coils (L Byte)\u000d\u000aModbus_TCP_Cmd_Command_Size := UINT#5;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Command Bytes\u000d\u000a\u000d\u000a\/\/ Reading Input Registers Factory IO\u000d\u000a\u000d\u000aModbus_TCP_Cmd_UnitIdentifier_2 := USINT#1;\u000d\u000aModbus_TCP_Cmd_Command_Data_2[0] := BYTE#16#04;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Function Code Read Input Registers\u000d\u000aModbus_TCP_Cmd_Command_Data_2[1] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Start Addresses (H Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data_2[2] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Start Addresses (L Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data_2[3] := BYTE#16#00;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Reading Input Registers (H Byte)\u000d\u000aModbus_TCP_Cmd_Command_Data_2[4] := BYTE#16#02;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Reading Input Registers (L Byte)\u000d\u000aModbus_TCP_Cmd_Command_Size_2 := UINT#5;\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\u0009\/\/ Number of Input Registers","W":1491.9999999999998,"X":2}],"LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"LD","Ix":1,"Var":"Modbus_TCP_Reading_Execute","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":29,"Name":"Get1sClk","Out":[{"__type":"PF","Arg":""}],"X":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Socket","Ix":3,"Type":"_sSOCKET","Var":"TCP_Socket_Connection_Socket_Reference"},{"__type":"PRM","Arg":"UnitIdentifier","Ix":4,"Type":"USINT","Var":"Modbus_TCP_Cmd_UnitIdentifier"},{"__type":"PRM","Arg":"CmdDat","Ix":5,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Command_Data[0]"},{"__type":"PRM","Arg":"CmdSize","Ix":6,"Type":"UINT","Var":"Modbus_TCP_Cmd_Command_Size"},{"__type":"PRM","Arg":"RespDat","IO":true,"Ix":7,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Response_Data[0]"},{"__type":"PRM","Arg":"TimeOut","Ix":8,"Type":"UINT","Var":""}],"Ix":27,"Name":"ModbusTCPCmd","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":9,"Type":"BOOL","Var":"Modbus_TCP_Cmd_Busy"},{"__type":"PRM","Arg":"Error","Ix":10,"Type":"BOOL","Var":"Modbus_TCP_Cmd_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":11,"Type":"WORD","Var":"Modbus_TCP_Cmd_Error_ID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":12,"Type":"DWORD","Var":"Modbus_TCP_Cmd_Error_Index"},{"__type":"PRM","Arg":"RespDat","IO":true,"Ix":13,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Response_Data[0]"},{"__type":"PRM","Arg":"RespSize","Ix":14,"Type":"UINT","Var":"Modbus_TCP_Cmd_Response_Size"}],"X":3,"Var":"Modbus_TCP_Cmd_Instance"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Socket","Ix":15,"Type":"_sSOCKET","Var":"TCP_Socket_Connection_Socket_Reference"},{"__type":"PRM","Arg":"UnitIdentifier","Ix":16,"Type":"USINT","Var":"Modbus_TCP_Cmd_UnitIdentifier_2"},{"__type":"PRM","Arg":"CmdDat","Ix":17,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Command_Data_2[0]"},{"__type":"PRM","Arg":"CmdSize","Ix":18,"Type":"UINT","Var":"Modbus_TCP_Cmd_Command_Size_2"},{"__type":"PRM","Arg":"RespDat","IO":true,"Ix":19,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Response_Data_2[0]"},{"__type":"PRM","Arg":"TimeOut","Ix":20,"Type":"UINT","Var":""}],"Ix":28,"Name":"ModbusTCPCmd","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":21,"Type":"BOOL","Var":"Modbus_TCP_Cmd_Busy_2"},{"__type":"PRM","Arg":"Error","Ix":22,"Type":"BOOL","Var":"Modbus_TCP_Cmd_Error_2"},{"__type":"PRM","Arg":"ErrorID","Ix":23,"Type":"WORD","Var":"Modbus_TCP_Cmd_Error_ID_2"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":24,"Type":"DWORD","Var":"Modbus_TCP_Cmd_Error_Index_2"},{"__type":"PRM","Arg":"RespDat","IO":true,"Ix":25,"Type":"BYTE[]","Var":"Modbus_TCP_Cmd_Response_Data_2[0]"},{"__type":"PRM","Arg":"RespSize","Ix":26,"Type":"UINT","Var":"Modbus_TCP_Cmd_Response_Size_2"}],"X":4,"Var":"Modbus_TCP_Cmd_2_Instance"},{"__type":"ST","Ix":2,"Var":"Modbus_TCP_Cmd_Done","X":5}],"LRI":30,"RRI":31,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"IST","EID":"94454362-42e8-4dcc-9b00-3e8ed20bd94d","H":525,"Ix":1,"TXT":"\/\/ Pointing Inputs and Input Registers to Map Data inside Sysmac with dedicated names\u000d\u000a\u000d\u000a\/\/ Discrete Inputs\u000d\u000a\u000d\u000aDiscrete_Input_Sensor_1 := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=0);\u000d\u000aDiscrete_Input_Pusher_1_Front := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=1);\u000d\u000aDiscrete_Input_Pusher_1_Back := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=2);\u000d\u000aDiscrete_Input_At_Pusher_1_Exit := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=3);\u000d\u000aDiscrete_Input_Sensor_2 := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=4);\u000d\u000aDiscrete_Input_Pusher_2_Front := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=5);\u000d\u000aDiscrete_Input_Pusher_2_Back := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=6);\u000d\u000aDiscrete_Input_At_Pusher_2_Exit := TestABit(In:=Modbus_TCP_Cmd_Response_Data[2], Pos:=7);\u000d\u000aDiscrete_Input_Start := TestABit(In:=Modbus_TCP_Cmd_Response_Data[3], Pos:=0);\u000d\u000aDiscrete_Input_Reset := TestABit(In:=Modbus_TCP_Cmd_Response_Data[3], Pos:=1);\u000d\u000aDiscrete_Input_Stop := TestABit(In:=Modbus_TCP_Cmd_Response_Data[3], Pos:=2);\u000d\u000aDiscrete_Input_Emergency_Stop := TestABit(In:=Modbus_TCP_Cmd_Response_Data[3], Pos:=3);\u000d\u000a\u000d\u000a\/\/ Discrete Input Registers\u000d\u000a\u000d\u000aAryByteTo(In:=Modbus_TCP_Cmd_Response_Data_2[2], Size:=UINT#2, Order:=_HIGH_LOW, OutVal:= Factory_IO_Input_Registrers_Word[0]);\u000d\u000aAryByteTo(In:=Modbus_TCP_Cmd_Response_Data_2[4], Size:=UINT#2, Order:=_HIGH_LOW, OutVal:= Factory_IO_Input_Registrers_Word[1]);\u000d\u000a\u000d\u000aVision_Sensor_1_INT := WORD_TO_INT(In:=Factory_IO_Input_Registrers_Word[0]);\u000d\u000aVision_Sensor_2_INT := WORD_TO_INT(In:=Factory_IO_Input_Registrers_Word[1]);","W":1554.9999999999998,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
