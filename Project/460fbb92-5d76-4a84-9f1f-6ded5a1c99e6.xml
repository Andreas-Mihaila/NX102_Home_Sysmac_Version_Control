<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>(*This FB is for having some machine status for all following actions&#xD;
	Created: 13/12/2021 Andreas Mihaila&#xD;
	Tested: 13/12/2021 Andreas Mihaila&#xD;
	Status:  14/12/2021 Andreas Mihaila Working&#xD;
*)&#xD;
&#xD;
// Line in Auto Mode&#xD;
&#xD;
IF IO_DI_Panel_Auto AND Status_Machine_Ready AND NOT IO_DI_Panel_Jog_Mode THEN&#xD;
	Status_Machine_Auto_Mode := TRUE;&#xD;
ELSE&#xD;
	Status_Machine_Auto_Mode := FALSE;&#xD;
END_IF;&#xD;
&#xD;
// Line is ready and in Manual Mode&#xD;
&#xD;
IF IO_DI_Panel_Manual_Mode AND IO_DI_Panel_Jog_Mode AND Status_Machine_Ready THEN&#xD;
	Status_Machine_Manual_Mode := TRUE;&#xD;
	Status_Machine_Jog_Permissive := TRUE;&#xD;
ELSE&#xD;
	Status_Machine_Manual_Mode := FALSE;&#xD;
	Status_Machine_Jog_Permissive := FALSE;&#xD;
END_IF;&#xD;
&#xD;
// Line in Error State&#xD;
&#xD;
IF NOT IO_DI_Panel_Emergency_Stop OR IO_DQ_Panel_Reset_Light THEN&#xD;
	Status_Machine_Error := TRUE;&#xD;
	Status_Machine_Ready := FALSE;&#xD;
ELSE&#xD;
	Status_Machine_Error := FALSE;&#xD;
	Status_Machine_Ready := TRUE;&#xD;
END_IF;&#xD;
	</Text></StructuredTextModel>